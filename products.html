<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Catalog | Nutpa Elite</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body style="padding-top:100px; background-color: var(--bg-soft);">
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <img src="assets/logo.png" alt="Nutpa Logo" id="navLogo">
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="products.html" class="active">Products</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="nav-actions">
                <!-- Actions -->
                <button class="mobile-nav-toggle" id="menuToggle">
                    <i data-lucide="menu"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="container section-padding">
        <div style="text-align:center; margin-bottom: 4rem;" data-aos="fade-down">
            <h1 style="font-size: 3.5rem; font-weight: 800; margin-bottom: 1rem;">Our Collection</h1>
            <p style="color: var(--text-soft); font-size: 1.25rem;">Find the perfect technology for your needs.</p>
        </div>

        <div class="products-layout">
            <!-- Sidebar -->
            <aside class="sidebar-sticky">
                <div class="search-box">
                    <i data-lucide="search" style="width: 20px;"></i>
                    <input type="text" id="searchInput" placeholder="Search products..." onkeyup="handleFilter()">
                </div>

                <div class="filter-section">
                    <h3>Categories</h3>
                    <div class="category-list" id="categoryFilters">
                        <button class="cat-filter-btn active" onclick="filterByCategory('all')">
                            All Products
                            <i data-lucide="chevron-right" style="width: 16px;"></i>
                        </button>
                        <!-- Dynamic Filters -->
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main>
                <div class="results-meta">
                    <span id="resultCount">Showing <strong>0</strong> results</span>
                    <div
                        style="display:flex; gap: 1rem; align-items: center; color: var(--text-soft); font-weight: 600;">
                        <span>Sort by:</span>
                        <select class="glass"
                            style="border: none; padding: 0.5rem 1rem; border-radius: 10px; font-weight: 700; outline: none; cursor: pointer;">
                            <option>Relevance</option>
                            <option>Price: Low to High</option>
                            <option>Price: High to Low</option>
                        </select>
                    </div>
                </div>

                <div class="featured-grid" id="productContainer"
                    style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));">
                    <!-- Dynamic Products -->
                </div>
            </main>
        </div>
    </div>

    <footer class="footer">
        <div class="container" style="text-align:center; border-top:1px solid var(--border); padding-top: 4rem;">
            <p style="color: var(--text-soft);">&copy; 2026 Nutpa Electronics. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="js/nexus-core.js"></script>
    <script src="js/data.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
        lucide.createIcons();

        // Dynamic Settings
        document.title = `${settings.siteName} | Catalog`;
        // Set Logos
        if (settings.siteLogo) {
            const navLogo = document.getElementById('navLogo');
            if (navLogo) navLogo.src = settings.siteLogo;
        }

        let currentCategory = 'all';
        let searchQuery = '';

        // Initialize Category Filters
        const filterContainer = document.getElementById('categoryFilters');
        categories.forEach(cat => {
            filterContainer.innerHTML += `
                <button class="cat-filter-btn" data-cat="${cat.id}" onclick="filterByCategory('${cat.id}')">
                    ${cat.name}
                    <i data-lucide="chevron-right" style="width: 16px;"></i>
                </button>
            `;
        });

        function filterByCategory(catId) {
            currentCategory = catId;
            document.querySelectorAll('.cat-filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.cat === catId || (catId === 'all' && btn.innerText.includes('All Products'))) {
                    btn.classList.add('active');
                }
            });
            handleFilter();
        }

        function handleFilter() {
            searchQuery = document.getElementById('searchInput').value.toLowerCase();
            const container = document.getElementById('productContainer');

            let filtered = products.filter(p => {
                const matchesCat = currentCategory === 'all' || p.category === currentCategory;
                const matchesSearch = p.name.toLowerCase().includes(searchQuery) || p.description.toLowerCase().includes(searchQuery);
                return matchesCat && matchesSearch;
            });

            document.getElementById('resultCount').innerHTML = `Showing <strong>${filtered.length}</strong> results`;

            container.innerHTML = '';
            filtered.forEach((p, idx) => {
                container.innerHTML += `
                    <div class="p-card-premium glass" data-aos="fade-up" data-aos-delay="${(idx % 4) * 100}" onclick="window.location.href='product-detail.html?id=${p.id}'">
                        <div class="p-img-box">
                            <img src="${p.image}" alt="${p.name}">
                        </div>
                        <span class="p-tag">${p.category}</span>
                        <h3 style="font-size: 1.1rem; margin-top: 0.5rem; font-weight: 800;">${p.name}</h3>
                        <div class="p-price-row" style="margin-top: 1rem;">
                            <span class="p-price" style="font-size: 1.25rem;">${p.price}</span>
                            <div class="p-link-icon" style="width: 36px; height: 36px;"><i data-lucide="chevron-right" style="width: 18px;"></i></div>
                        </div>
                    </div>
                `;
            });
            lucide.createIcons();
        }

        // Handle URL Params
        const urlParams = new URLSearchParams(window.location.search);
        const urlCat = urlParams.get('category');
        if (urlCat) filterByCategory(urlCat);
        else handleFilter();

        // Mobile Menu Toggle Logic
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.querySelector('.nav-links');

        if (menuToggle && navLinks) {
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                const icon = menuToggle.querySelector('i');
                if (navLinks.classList.contains('active')) {
                    icon.setAttribute('data-lucide', 'x');
                } else {
                    icon.setAttribute('data-lucide', 'menu');
                }
                lucide.createIcons();
            });

            // Close menu when clicking a link
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    menuToggle.querySelector('i').setAttribute('data-lucide', 'menu');
                    lucide.createIcons();
                });
            });
        }

        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) navbar.classList.add('scrolled');
            else navbar.classList.remove('scrolled');
        });

        // WhatsApp Dynamic
        const waLink = document.getElementById('whatsappLink');
        if (waLink) {
            waLink.href = `https://wa.me/919940428882`;
        }
        lucide.createIcons();
    </script>
    <a href="https://wa.me/919940428882" class="whatsapp-float" id="whatsappLink" target="_blank">
        <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.7 17.8 69.4 27.2 106.2 27.2 122.4 0 222-99.6 222-222 0-59.3-23-115.1-65-157.1zM223.9 445.3c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 365.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 54.1 81.2 54.1 130.5 0 101.7-82.8 184.4-184.6 184.4zm101.4-139c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-5.5-2.8-23.2-8.5-44.2-27.1-16.4-14.6-27.4-32.7-30.6-38.1-3.2-5.5-.3-8.5 2.4-11.2 2.5-2.4 5.5-6.5 8.3-9.7 2.8-3.2 3.7-5.5 5.6-9.2 1.9-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 13.2 5.8 23.5 9.2 31.5 11.8 13.3 4.2 25.4 3.6 34.9 2.2 10.6-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z" />
        </svg>
    </a>
</body>

</html>